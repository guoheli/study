### [后台线程和非后台线程](https://zhanglijun1217.github.io/blog/2018/11/26/%E5%AE%88%E6%8A%A4%E7%BA%BF%E7%A8%8B%E5%92%8C%E9%9D%9E%E5%AE%88%E6%8A%A4%E7%BA%BF%E7%A8%8B/) ###
后台线程，也叫守护线程，指的是在程序运行的时候后台提供一种通用服务的线程，比如jvm里垃圾回收线程，这种线程并不属于程序中不可或缺的部分。因此，当所有的非守护线程结束时，程序也就终止了，同时会杀死进程中的所有守护线程。反过来说，只要有任何非守护线程在运行，程序就不会终止。

守护线程和非守护线程的区别：在于jvm的离开：如果用户线程（非守护线程）已经全部退出运行了，只剩下守护线程存在，那么虚拟机也就退出了。因为没了被守护者，守护线程也就没有工作可做了。

设置守护线程是通过调用Thread对象的setDaemon(true)方法来实现的。在使用守护线程的时候需要注意以下几点：

（1）thread.setDeaemon(true)必须在thread.start()之前设置，否则会报错IllegalThreadStateException

（2）在Daemon线程中产生的线程也是Daemon的。

（3）守护线程应该永远不去访问固有资源，如文件、数据库，因为它会在任何时候甚至在一个操作的中间发生终端。